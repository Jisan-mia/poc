(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-324addd2"],{"5d86":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=function(e){return Object(r["pushScopeId"])("data-v-14adb728"),e=e(),Object(r["popScopeId"])(),e},o={key:0,class:"login_cont"},c=a((function(){return Object(r["createElementVNode"])("h3",null," Register ",-1)})),s={class:"pass_cont"},u=a((function(){return Object(r["createElementVNode"])("i",{class:"fas fa-eye-slash"},null,-1)})),i=[u],l=a((function(){return Object(r["createElementVNode"])("i",{class:"fas fa-eye"},null,-1)})),p=[l],d=Object(r["createTextVNode"])(" Already have an account? "),b=a((function(){return Object(r["createElementVNode"])("span",{class:"special"}," Login ",-1)}));function h(e,t,n,a,u,l){var h=Object(r["resolveComponent"])("CustomPhoneInput"),m=Object(r["resolveComponent"])("CustomAuthInput"),f=Object(r["resolveComponent"])("router-link"),O=Object(r["resolveComponent"])("CustomLoginRegisterBtn"),j=Object(r["resolveComponent"])("MainRegisterUser");return"register"===a.currentStep?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[c,Object(r["createElementVNode"])("form",{onSubmit:t[4]||(t[4]=Object(r["withModifiers"])((function(){return a.handleUserRegister&&a.handleUserRegister.apply(a,arguments)}),["prevent"]))},[Object(r["createVNode"])(h,{modelValue:a.userAuthInput.phone_number,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.userAuthInput.phone_number=e}),placeholder:"Enter your phone number"},null,8,["modelValue"]),Object(r["createElementVNode"])("div",s,[Object(r["createVNode"])(m,{modelValue:a.userAuthInput.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.userAuthInput.password=e}),placeholder:"Enter your password",type:a.inputType},null,8,["modelValue","type"]),a.showPassword?a.showPassword?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:1,class:"btn",onClick:t[3]||(t[3]=function(e){return a.showPassword=!a.showPassword})},p)):Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:0,class:"btn",onClick:t[2]||(t[2]=function(e){return a.showPassword=!a.showPassword})},i))]),Object(r["createElementVNode"])("p",null,[d,Object(r["createVNode"])(f,{to:{name:"Login"}},{default:Object(r["withCtx"])((function(){return[b]})),_:1})]),Object(r["createVNode"])(O,{buttonText:"Register",isSpin:a.buttonLoading},null,8,["isSpin"])],32)])):(Object(r["openBlock"])(),Object(r["createBlock"])(j,{key:1}))}var m=n("5530"),f=n("1da1"),O=(n("ac1f"),n("00b4"),n("96cf"),n("a1e9")),j=n("e364"),v=n("1962"),w=n("486d"),g=n("309d"),k=n("57a7"),V=n("5502"),y=n("5c40"),S=n("2934"),C=(n("a18c"),n("6c02")),P=n("0997"),R={components:{CustomAuthInput:j["a"],CustomPhoneInput:v["a"],CustomLoginRegisterBtn:w["a"],SendOtp:g["a"],MainRegisterUser:k["a"],SubmitOtp:P["a"]},name:"Register",setup:function(){var e=Object(C["e"])(),t=Object(V["b"])(),n=Object(O["r"])(!1),r=Object(O["c"])((function(){return t.state.userState.user})),a=Object(O["c"])((function(){return t.state.notifications.notifications})),o=Object(O["r"])(null),c=Object(O["c"])((function(){return t.state.userState.user.isAuthenticated})),s=Object(O["c"])((function(){return t.state.userState.profile}));console.log(s.value);var u=Object(O["r"])(!1),i=function(e){e.preventDefault(),u.value=!u.value},l=Object(O["c"])((function(){return u.value?"text":"password"}));Object(y["kc"])(Object(f["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!c.value){n.next=10;break}return n.prev=1,n.next=4,t.dispatch("userState/loadUserProfile");case 4:s.value&&e.push("/dashboard"),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])}))));var p=Object(O["r"])({phone_number:"",password:""}),d=Object(O["r"])("register"),b=function(){(r.value.phone_number||r.value.password)&&(d.value="sendOtp")},h=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(p.value),/^(?:\+88|01)?(?:\d{11}|\d{13})$/.test(p.value.phone_number)){e.next=6;break}return t.dispatch("notifications/add",Object(S["d"])("warning","Please enter a valid phone number")),e.abrupt("return");case 6:if(!(p.value.password.length<5)){e.next=9;break}return t.dispatch("notifications/add",Object(S["d"])("warning","Password must be at least 5 character")),e.abrupt("return");case 9:return e.prev=9,n.value=!0,e.next=13,t.dispatch("userState/registerByPhonePass",Object(m["a"])({},p.value));case 13:n.value=!1,e.next=21;break;case 16:e.prev=16,e.t0=e["catch"](9),console.log(e.t0.message),o.value=e.t0.message,setTimeout((function(){n.value=!1}),1e3);case 21:setTimeout(b,1e3);case 22:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(){return e.apply(this,arguments)}}();return{userAuthInput:p,handleUserRegister:h,currentStep:d,user:r,notificationsState:a,toggleShow:i,showPassword:u,inputType:l,buttonLoading:n}}},x=(n("7090"),n("6b0d")),N=n.n(x);const E=N()(R,[["render",h],["__scopeId","data-v-14adb728"]]);t["default"]=E},7090:function(e,t,n){"use strict";n("ad47")},ad47:function(e,t,n){}}]);
//# sourceMappingURL=chunk-324addd2.a2f17886.js.map