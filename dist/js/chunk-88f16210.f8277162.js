(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88f16210"],{"3be2":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=function(e){return Object(r["pushScopeId"])("data-v-48b6616e"),e=e(),Object(r["popScopeId"])(),e},a={key:0,class:"login_cont"},c=o((function(){return Object(r["createElementVNode"])("h3",null," Login ",-1)})),s={class:"pass_cont"},u=o((function(){return Object(r["createElementVNode"])("i",{class:"fas fa-eye-slash"},null,-1)})),l=[u],i=o((function(){return Object(r["createElementVNode"])("i",{class:"fas fa-eye"},null,-1)})),p=[i],d=Object(r["createTextVNode"])(" Donâ€™t have an account? "),b=o((function(){return Object(r["createElementVNode"])("span",{class:"special"}," Register ",-1)})),O=o((function(){return Object(r["createElementVNode"])("br",null,null,-1)}));function m(e,t,n,o,u,i){var m=Object(r["resolveComponent"])("CustomPhoneInput"),j=Object(r["resolveComponent"])("CustomAuthInput"),h=Object(r["resolveComponent"])("router-link"),f=Object(r["resolveComponent"])("CustomLoginRegisterBtn"),v=Object(r["resolveComponent"])("SendOtp"),g=Object(r["resolveComponent"])("MainRegisterUser");return"login"===o.currentStep?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[c,Object(r["createElementVNode"])("form",{onSubmit:t[5]||(t[5]=Object(r["withModifiers"])((function(){return o.handleUserLogin&&o.handleUserLogin.apply(o,arguments)}),["prevent"]))},[Object(r["createVNode"])(m,{modelValue:o.userInputs.phone_number,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.userInputs.phone_number=e}),placeholder:"Enter your phone number"},null,8,["modelValue"]),Object(r["createElementVNode"])("div",s,[Object(r["createVNode"])(j,{modelValue:o.userInputs.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.userInputs.password=e}),placeholder:"Enter your password",type:o.inputType},null,8,["modelValue","type"]),o.showPassword?o.showPassword?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:1,class:"btn",onClick:t[3]||(t[3]=function(e){return o.showPassword=!o.showPassword})},p)):Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:0,class:"btn",onClick:t[2]||(t[2]=function(e){return o.showPassword=!o.showPassword})},l))]),Object(r["createElementVNode"])("p",null,[d,Object(r["createVNode"])(h,{to:{name:"Register"}},{default:Object(r["withCtx"])((function(){return[b]})),_:1}),O,Object(r["createElementVNode"])("span",{onClick:t[4]||(t[4]=function(){return o.handleForgotStep&&o.handleForgotStep.apply(o,arguments)}),class:"special"}," Forgot Password")]),Object(r["createVNode"])(f,{buttonText:"Login",isSpin:o.buttonLoading},null,8,["isSpin"])],32)])):"sendOtp"==o.currentStep?(Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:1})):"registered"==o.currentStep?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:2})):Object(r["createCommentVNode"])("",!0)}var j=n("5530"),h=n("1da1"),f=(n("ac1f"),n("00b4"),n("96cf"),n("a1e9")),v=n("e364"),g=n("1962"),w=n("486d"),k=n("309d"),V=n("5502"),S=n("2934"),C=n("5c40"),y=n("6c02"),N=n("57a7"),x={components:{CustomAuthInput:v["a"],CustomPhoneInput:g["a"],CustomLoginRegisterBtn:w["a"],SendOtp:k["a"],MainRegisterUser:N["a"]},name:"Login",setup:function(){var e=Object(V["b"])(),t=Object(y["e"])(),n=Object(f["r"])(!1),r=Object(f["c"])((function(){return e.state.userState.user.isAuthenticated})),o=Object(f["c"])((function(){return e.state.userState.profile})),a=Object(f["r"])(!1),c=function(e){e.preventDefault(),a.value=!a.value},s=Object(f["c"])((function(){return a.value?"text":"password"}));Object(C["kc"])(Object(h["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!r.value){n.next=10;break}return n.prev=1,n.next=4,e.dispatch("userState/loadUserProfile");case 4:o.value&&t.push("/dashboard"),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])}))));var u=Object(f["r"])({phone_number:"",password:""}),l=(Object(f["r"])(["login","sendOtp","registered"]),Object(f["r"])("login")),i=function(){l.value="sendOtp"},p=Object(f["r"])(null);Object(C["kc"])((function(){console.log(u.value)}));var d=function(){var r=Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(/^(?:\+88|01)?(?:\d{11}|\d{13})$/.test(u.value.phone_number)){r.next=5;break}return e.dispatch("notifications/add",Object(S["d"])("warning","Please enter a valid phone number")),r.abrupt("return");case 5:if(!(u.value.password.length<5)){r.next=8;break}return e.dispatch("notifications/add",Object(S["d"])("warning","Password must be at least 5 character")),r.abrupt("return");case 8:return r.prev=8,n.value=!0,r.next=12,e.dispatch("userState/userLogin",Object(j["a"])({},u.value));case 12:return r.next=14,e.dispatch("userState/loadUserProfile");case 14:n.value=!1,o.value?t.push("/"):l.value="registered",r.next=23;break;case 18:r.prev=18,r.t0=r["catch"](8),console.log(r.t0.message),setTimeout((function(){n.value=!1}),1e3),p.value=r.t0.message;case 23:case"end":return r.stop()}}),r,null,[[8,18]])})));return function(){return r.apply(this,arguments)}}();return{userInputs:u,handleUserLogin:d,handleForgotStep:i,currentStep:l,toggleShow:c,showPassword:a,inputType:s,buttonLoading:n}}},E=(n("aedc"),n("6b0d")),P=n.n(E);const B=P()(x,[["render",m],["__scopeId","data-v-48b6616e"]]);t["default"]=B},"64a1":function(e,t,n){},aedc:function(e,t,n){"use strict";n("64a1")}}]);
//# sourceMappingURL=chunk-88f16210.f8277162.js.map