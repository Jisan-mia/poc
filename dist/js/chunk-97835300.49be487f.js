(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-97835300"],{"5d86":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=function(e){return Object(r["z"])("data-v-17a9c915"),e=e(),Object(r["x"])(),e},u={key:0,class:"login_cont"},s=a((function(){return Object(r["h"])("h3",null," Register ",-1)})),c={class:"pass_cont"},o=a((function(){return Object(r["h"])("i",{class:"fas fa-eye-slash"},null,-1)})),i=[o],l=a((function(){return Object(r["h"])("i",{class:"fas fa-eye"},null,-1)})),p=[l],b=Object(r["j"])(" Already have an account? "),d=a((function(){return Object(r["h"])("span",{class:"special"}," Login ",-1)}));function h(e,t,n,a,o,l){var h=Object(r["E"])("CustomPhoneInput"),O=Object(r["E"])("CustomAuthInput"),f=Object(r["E"])("router-link"),j=Object(r["E"])("CustomLoginRegisterBtn"),g=Object(r["E"])("SendOtp");return"register"===a.currentStep?(Object(r["w"])(),Object(r["g"])("div",u,[s,Object(r["h"])("form",{onSubmit:t[4]||(t[4]=Object(r["O"])((function(){return a.handleUserRegister&&a.handleUserRegister.apply(a,arguments)}),["prevent"]))},[Object(r["k"])(h,{modelValue:a.userAuthInput.phone_number,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.userAuthInput.phone_number=e}),placeholder:"Enter your phone number"},null,8,["modelValue"]),Object(r["h"])("div",c,[Object(r["k"])(O,{modelValue:a.userAuthInput.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.userAuthInput.password=e}),placeholder:"Enter your password",type:a.inputType},null,8,["modelValue","type"]),a.showPassword?a.showPassword?(Object(r["w"])(),Object(r["g"])("span",{key:1,class:"btn",onClick:t[3]||(t[3]=function(e){return a.showPassword=!a.showPassword})},p)):Object(r["f"])("",!0):(Object(r["w"])(),Object(r["g"])("span",{key:0,class:"btn",onClick:t[2]||(t[2]=function(e){return a.showPassword=!a.showPassword})},i))]),Object(r["h"])("p",null,[b,Object(r["k"])(f,{to:{name:"Login"}},{default:Object(r["M"])((function(){return[d]})),_:1})]),Object(r["k"])(j,{buttonText:"Register",isSpin:a.buttonLoading},null,8,["isSpin"])],32)])):(Object(r["w"])(),Object(r["e"])(g,{key:1,isRegistrationPage:!0,regPhone:a.userAuthInput.phone_number},null,8,["regPhone"]))}var O=n("5530"),f=n("1da1"),j=(n("ac1f"),n("00b4"),n("96cf"),n("a1e9")),g=n("e364"),w=n("1962"),v=n("486d"),m=n("309d"),k=n("57a7"),P=n("5502"),y=n("5c40"),S=n("2934"),R=(n("a18c"),n("6c02")),x=n("0997"),I={components:{CustomAuthInput:g["a"],CustomPhoneInput:w["a"],CustomLoginRegisterBtn:v["a"],SendOtp:m["a"],MainRegisterUser:k["a"],SubmitOtp:x["a"]},name:"Register",setup:function(){var e=Object(R["d"])(),t=Object(P["b"])(),n=Object(j["l"])(!1),r=Object(j["c"])((function(){return t.state.userState.user})),a=Object(j["c"])((function(){return t.state.notifications.notifications})),u=Object(j["l"])(null),s=Object(j["c"])((function(){return t.state.userState.user.isAuthenticated})),c=Object(j["c"])((function(){return t.state.userState.profile}));console.log(c.value);var o=Object(j["l"])(!1),i=function(e){e.preventDefault(),o.value=!o.value},l=Object(j["c"])((function(){return o.value?"text":"password"}));Object(y["Y"])(Object(f["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!s.value){n.next=10;break}return n.prev=1,n.next=4,t.dispatch("userState/loadUserProfile");case 4:c.value&&e.push("/dashboard"),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])}))));var p=Object(j["l"])({phone_number:"",password:""}),b=Object(j["l"])("register"),d=function(){(r.value.phone_number||r.value.password)&&(b.value="sendOtp")},h=function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(p.value),/^(?:\+88|01)?(?:\d{11}|\d{13})$/.test(p.value.phone_number)){e.next=6;break}return t.dispatch("notifications/add",Object(S["c"])("warning","Please enter a valid phone number")),e.abrupt("return");case 6:if(!(p.value.password.length<5)){e.next=9;break}return t.dispatch("notifications/add",Object(S["c"])("warning","Password must be at least 5 character")),e.abrupt("return");case 9:return e.prev=9,n.value=!0,e.next=13,t.dispatch("userState/registerByPhonePass",Object(O["a"])({},p.value));case 13:n.value=!1,e.next=21;break;case 16:e.prev=16,e.t0=e["catch"](9),console.log(e.t0.message),u.value=e.t0.message,setTimeout((function(){n.value=!1}),1e3);case 21:setTimeout(d,1e3);case 22:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(){return e.apply(this,arguments)}}();return{userAuthInput:p,handleUserRegister:h,currentStep:b,user:r,notificationsState:a,toggleShow:i,showPassword:o,inputType:l,buttonLoading:n}}},_=(n("9d72"),n("6b0d")),A=n.n(_);const C=A()(I,[["render",h],["__scopeId","data-v-17a9c915"]]);t["default"]=C},"625c":function(e,t,n){},"9d72":function(e,t,n){"use strict";n("625c")}}]);
//# sourceMappingURL=chunk-97835300.49be487f.js.map