(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4712d848"],{"2abe":function(e,t,n){"use strict";n("97ad")},"3be2":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=function(e){return Object(r["z"])("data-v-55db71e1"),e=e(),Object(r["x"])(),e},u={key:0,class:"login_cont"},o=a((function(){return Object(r["h"])("h3",null," Login ",-1)})),s={class:"pass_cont"},c=a((function(){return Object(r["h"])("i",{class:"fas fa-eye-slash"},null,-1)})),l=[c],i=a((function(){return Object(r["h"])("i",{class:"fas fa-eye"},null,-1)})),b=[i];function p(e,t,n,a,c,i){var p=Object(r["E"])("CustomPhoneInput"),d=Object(r["E"])("CustomAuthInput"),h=Object(r["E"])("CustomLoginRegisterBtn"),O=Object(r["E"])("SendOtp");return"login"===a.currentStep?(Object(r["w"])(),Object(r["g"])("div",u,[o,Object(r["h"])("form",{onSubmit:t[4]||(t[4]=Object(r["O"])((function(){return a.handleUserLogin&&a.handleUserLogin.apply(a,arguments)}),["prevent"]))},[Object(r["k"])(p,{modelValue:a.userInputs.phone_number,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.userInputs.phone_number=e}),placeholder:"Enter your phone number"},null,8,["modelValue"]),Object(r["h"])("div",s,[Object(r["k"])(d,{modelValue:a.userInputs.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.userInputs.password=e}),placeholder:"Enter your password",type:a.inputType},null,8,["modelValue","type"]),a.showPassword?a.showPassword?(Object(r["w"])(),Object(r["g"])("button",{key:1,class:"btn",onClick:t[3]||(t[3]=function(e){return a.showPassword=!a.showPassword})},b)):Object(r["f"])("",!0):(Object(r["w"])(),Object(r["g"])("button",{key:0,class:"btn",onClick:t[2]||(t[2]=function(e){return a.showPassword=!a.showPassword})},l))]),Object(r["k"])(h,{buttonText:"Login"})],32)])):(Object(r["w"])(),Object(r["e"])(O,{key:1}))}var d=n("5530"),h=n("1da1"),O=(n("ac1f"),n("00b4"),n("96cf"),n("a1e9")),f=n("e364"),j=n("1962"),w=n("486d"),g=n("309d"),v=n("5502"),m=n("2934"),k=n("5c40"),y=n("6c02"),x={components:{CustomAuthInput:f["a"],CustomPhoneInput:j["a"],CustomLoginRegisterBtn:w["a"],SendOtp:g["a"]},name:"Login",setup:function(){var e=Object(v["b"])(),t=Object(y["d"])(),n=Object(O["c"])((function(){return e.state.userState.user.isAuthenticated})),r=Object(O["c"])((function(){return e.state.userState.profile}));console.log(r.value);var a=Object(O["l"])(!1),u=function(e){e.preventDefault(),a.value=!a.value},o=Object(O["c"])((function(){return a.value?"text":"password"}));Object(k["Y"])(Object(h["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n.value){a.next=11;break}return a.prev=1,a.next=4,e.dispatch("userState/loadUserProfile");case 4:console.log(r.value),r.value&&t.push("/dashboard"),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])}))));var s=Object(O["l"])({phone_number:"",password:""}),c=(Object(O["l"])(["login","sendOtp"]),Object(O["l"])("login")),l=function(){c.value="sendOtp"},i=Object(O["l"])(null);Object(k["Y"])((function(){console.log(s.value)}));var b=function(){var n=Object(h["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(/^(?:\+88|01)?(?:\d{11}|\d{13})$/.test(s.value.phone_number)){n.next=5;break}return e.dispatch("notifications/add",Object(m["c"])("warning","Please enter a valid phone number")),n.abrupt("return");case 5:if(!(s.value.password.length<5)){n.next=8;break}return e.dispatch("notifications/add",Object(m["c"])("warning","Password must be at least 5 character")),n.abrupt("return");case 8:return n.prev=8,n.next=11,e.dispatch("userState/userLogin",Object(d["a"])({},s.value));case 11:t.push("/"),n.next=18;break;case 14:n.prev=14,n.t0=n["catch"](8),console.log(n.t0.message),i.value=n.t0.message;case 18:case"end":return n.stop()}}),n,null,[[8,14]])})));return function(){return n.apply(this,arguments)}}();return{userInputs:s,handleUserLogin:b,handleForgotStep:l,currentStep:c,toggleShow:u,showPassword:a,inputType:o}}},P=(n("2abe"),n("6b0d")),S=n.n(P);const I=S()(x,[["render",p],["__scopeId","data-v-55db71e1"]]);t["default"]=I},"97ad":function(e,t,n){}}]);
//# sourceMappingURL=chunk-4712d848.edb0ae7a.js.map