(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3683ee72"],{"5d86":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=function(e){return Object(r["z"])("data-v-2fe7bebf"),e=e(),Object(r["x"])(),e},u={key:0,class:"login_cont"},c=a((function(){return Object(r["h"])("h3",null," Register ",-1)})),s=Object(r["j"])(" Already have an account? "),o=a((function(){return Object(r["h"])("span",{class:"special"}," Login ",-1)}));function i(e,t,n,a,i,l){var b=Object(r["E"])("CustomPhoneInput"),p=Object(r["E"])("CustomAuthInput"),d=Object(r["E"])("router-link"),h=Object(r["E"])("CustomLoginRegisterBtn"),f=Object(r["E"])("SendOtp");return"register"===a.currentStep?(Object(r["w"])(),Object(r["g"])("div",u,[c,Object(r["h"])("form",{onSubmit:t[2]||(t[2]=Object(r["O"])((function(){return a.handleUserRegister&&a.handleUserRegister.apply(a,arguments)}),["prevent"]))},[Object(r["k"])(b,{modelValue:a.userAuthInput.phone_number,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.userAuthInput.phone_number=e}),placeholder:"Enter your phone number"},null,8,["modelValue"]),Object(r["k"])(p,{modelValue:a.userAuthInput.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.userAuthInput.password=e}),placeholder:"Enter your password",type:"text"},null,8,["modelValue"]),Object(r["h"])("p",null,[s,Object(r["k"])(d,{to:{name:"Login"}},{default:Object(r["M"])((function(){return[o]})),_:1})]),Object(r["k"])(h,{buttonText:"Register"})],32)])):(Object(r["w"])(),Object(r["e"])(f,{key:1,isRegistrationPage:"true"}))}var l=n("5530"),b=n("1da1"),p=(n("ac1f"),n("00b4"),n("96cf"),n("a1e9")),d=n("e364"),h=n("1962"),f=n("486d"),O=n("309d"),j=n("57a7"),m=n("5502"),g=n("5c40"),v=n("2934"),w=(n("a18c"),n("6c02")),k={components:{CustomAuthInput:d["a"],CustomPhoneInput:h["a"],CustomLoginRegisterBtn:f["a"],SendOtp:O["a"],MainRegisterUser:j["a"]},name:"Register",setup:function(){var e=Object(w["d"])(),t=Object(m["b"])(),n=Object(p["c"])((function(){return t.state.userState.user})),r=Object(p["c"])((function(){return t.state.notifications.notifications})),a=Object(p["l"])(null),u=Object(p["c"])((function(){return t.state.userState.user.isAuthenticated})),c=Object(p["c"])((function(){return t.state.userState.profile}));console.log(c.value),Object(g["Y"])(Object(b["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!u.value){n.next=10;break}return n.prev=1,n.next=4,t.dispatch("userState/loadUserProfile");case 4:c.value&&e.push("/dashboard"),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])}))));var s=Object(p["l"])({phone_number:"",password:""}),o=Object(p["l"])("register"),i=function(){(n.value.phone_number||n.value.password)&&(o.value="sendOtp")},d=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(s.value),/^(?:\+88|01)?(?:\d{11}|\d{13})$/.test(s.value.phone_number)){e.next=6;break}return t.dispatch("notifications/add",Object(v["c"])("warning","Please enter a valid phone number")),e.abrupt("return");case 6:if(!(s.value.password.length<5)){e.next=9;break}return t.dispatch("notifications/add",Object(v["c"])("warning","Password must be at least 5 character")),e.abrupt("return");case 9:return e.prev=9,e.next=12,t.dispatch("userState/registerByPhonePass",Object(l["a"])({},s.value));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](9),console.log(e.t0.message),a.value=e.t0.message;case 18:setTimeout(i,1e3);case 19:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(){return e.apply(this,arguments)}}();return{userAuthInput:s,handleUserRegister:d,currentStep:o,user:n,notificationsState:r}}},R=(n("d3c0"),n("6b0d")),x=n.n(R);const S=x()(k,[["render",i],["__scopeId","data-v-2fe7bebf"]]);t["default"]=S},c80b:function(e,t,n){},d3c0:function(e,t,n){"use strict";n("c80b")}}]);
//# sourceMappingURL=chunk-3683ee72.730c6d48.js.map